#!/usr/bin/env ruby

require 'bundler/setup'
require 'preval'

Preval::Visitors::Arithmetic.enable!
Preval::Visitors::AttrAccessor.enable!
Preval::Visitors::Fasterer.enable!
Preval::Visitors::Loops.enable!

source = ARGV.first
puts Preval.process(File.exist?(source) ? File.read(source) : source)
